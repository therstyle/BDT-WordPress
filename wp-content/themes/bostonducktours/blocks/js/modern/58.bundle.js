(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[58],{

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/components/blocks/Tours/styles.scss":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/components/blocks/Tours/styles.scss ***!
  \********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.i, \"/* ==========================================================================\\n   #TIMINGS\\n========================================================================== */\\n\\n/* ==========================================================================\\n   #BREAKPOINTS\\n========================================================================== */\\n\\n/* ==========================================================================\\n   #KEYFRAMES\\n========================================================================== */\\n@keyframes icon-pulse {\\n  50% {\\n    height: 30px; } }\\n\\n@keyframes toRightFromLeft {\\n  49% {\\n    transform: translate(100%, -50%); }\\n  50% {\\n    opacity: 0;\\n    transform: translate(-100%, -50%); }\\n  51% {\\n    opacity: 1; } }\\n\\n/* ==========================================================================\\n   #BOX MODEL\\n========================================================================== */\\n.Tours {\\n  margin-top: 57px; }\\n  @media (max-width: 767px) {\\n    .Tours {\\n      margin-top: 13px; } }\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"transition\": \"200\",\n\t\"transitionFast\": \"100\",\n\t\"transitionSlow\": \"400\",\n\t\"extra_large\": \"1439\",\n\t\"large\": \"1150\",\n\t\"medium\": \"991\",\n\t\"small\": \"767\",\n\t\"extra_small\": \"575\"\n};\n\n//# sourceURL=webpack:///./src/components/blocks/Tours/styles.scss?./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js");

/***/ }),

/***/ "./src/components/blocks/Tours/index.js":
/*!**********************************************!*\
  !*** ./src/components/blocks/Tours/index.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ \"./node_modules/core-js/modules/es7.symbol.async-iterator.js\");\n/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.symbol */ \"./node_modules/core-js/modules/es6.symbol.js\");\n/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ \"./node_modules/core-js/modules/web.dom.iterable.js\");\n/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.promise */ \"./node_modules/core-js/modules/es6.promise.js\");\n/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.object.to-string */ \"./node_modules/core-js/modules/es6.object.to-string.js\");\n/* harmony import */ var core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es6.array.find */ \"./node_modules/core-js/modules/es6.array.find.js\");\n/* harmony import */ var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! regenerator-runtime/runtime */ \"./node_modules/regenerator-runtime/runtime.js\");\n/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! types */ \"./src/types.js\");\n/* harmony import */ var services_api__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! services/api */ \"./src/services/api/index.js\");\n/* harmony import */ var services_lockScroll__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! services/lockScroll */ \"./src/services/lockScroll/index.js\");\n/* harmony import */ var store_tours_actions__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! store/tours/actions */ \"./src/store/tours/actions.js\");\n/* harmony import */ var store_tourCategories_actions__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! store/tourCategories/actions */ \"./src/store/tourCategories/actions.js\");\n/* harmony import */ var components_Tabs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! components/Tabs */ \"./src/components/Tabs/index.js\");\n/* harmony import */ var components_CptPopup__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! components/CptPopup */ \"./src/components/CptPopup/index.js\");\n/* harmony import */ var components_CptArchive__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! components/CptArchive */ \"./src/components/CptArchive/index.js\");\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./styles.scss */ \"./src/components/blocks/Tours/styles.scss\");\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_styles_scss__WEBPACK_IMPORTED_MODULE_19__);\n\n\n\n\n\n\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar propTypes = {\n  tours: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.arrayOf(types__WEBPACK_IMPORTED_MODULE_11__[\"CptType\"]),\n  categories: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.shape({\n    id: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number,\n    slug: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n    name: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string\n  })),\n  onToursGet: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,\n  onCategoriesGet: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired\n};\nvar defaultProps = {\n  tours: null,\n  categories: []\n};\n\nvar Tours = function Tours(_ref) {\n  var tours = _ref.tours,\n      categories = _ref.categories,\n      onToursGet = _ref.onToursGet,\n      onCategoriesGet = _ref.onCategoriesGet;\n  Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useEffect\"])(function () {\n    // \"tours\" will be null if we don't have data from backend. It will\n    // be an array (even if empty) if we did receive data from backend.\n    if (tours) {\n      return;\n    }\n\n    var getTours =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var toursFromApi;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return services_api__WEBPACK_IMPORTED_MODULE_12__[\"default\"].get('/tours');\n\n              case 2:\n                toursFromApi = _context.sent;\n\n                if (!(toursFromApi.status !== 'ok')) {\n                  _context.next = 6;\n                  break;\n                }\n\n                console.warn('/tours endpoint is not responding.');\n                return _context.abrupt(\"return\");\n\n              case 6:\n                onToursGet(toursFromApi.data.tours);\n                onCategoriesGet(toursFromApi.data.categories);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getTours() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    getTours();\n  });\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])('all'),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedCategory = _useState2[0],\n      selectCategory = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      popupOpen = _useState4[0],\n      setPopupOpen = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      clickedTour = _useState6[0],\n      setClickedTour = _useState6[1]; // Handle stop scrolling on body when Popup is opened\n\n\n  Object(services_lockScroll__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(popupOpen);\n\n  if (!tours) {\n    return null;\n  }\n\n  var handleTileClick = function handleTileClick(id) {\n    setClickedTour(id);\n    setPopupOpen(true);\n  };\n\n  var getTourIndex = function getTourIndex(id) {\n    var findTour = tours.find(function (tour) {\n      return tour.id === id;\n    });\n\n    if (!findTour) {\n      return 0;\n    }\n\n    return tours.indexOf(findTour);\n  };\n\n  return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"Tours\"\n  }, categories.length ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_Tabs__WEBPACK_IMPORTED_MODULE_16__[\"default\"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"button\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_10___default()({\n      active: selectedCategory === 'all'\n    }),\n    onClick: function onClick() {\n      return selectCategory('all');\n    }\n  }, \"All\"), categories.map(function (category) {\n    return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"button\", {\n      key: category.id,\n      className: classnames__WEBPACK_IMPORTED_MODULE_10___default()({\n        active: selectedCategory === category.slug\n      }),\n      onClick: function onClick() {\n        return selectCategory(category.slug);\n      }\n    }, category.name);\n  })) : null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_CptArchive__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n    posts: tours,\n    selectedCategory: selectedCategory,\n    onClick: handleTileClick\n  }), popupOpen ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_CptPopup__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n    posts: tours,\n    onClose: function onClose() {\n      return setPopupOpen(false);\n    },\n    options: {\n      initialSlide: getTourIndex(clickedTour)\n    }\n  }) : null);\n};\n\nTours.propTypes = propTypes;\nTours.defaultProps = defaultProps;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    tours: state.tours,\n    categories: state.tourCategories\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onToursGet: function onToursGet(tours) {\n      return dispatch(Object(store_tours_actions__WEBPACK_IMPORTED_MODULE_14__[\"setTours\"])(tours));\n    },\n    onCategoriesGet: function onCategoriesGet(categories) {\n      return dispatch(Object(store_tourCategories_actions__WEBPACK_IMPORTED_MODULE_15__[\"setTourCategories\"])(categories));\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_8__[\"connect\"])(mapStateToProps, mapDispatchToProps)(Tours));\n\n//# sourceURL=webpack:///./src/components/blocks/Tours/index.js?");

/***/ }),

/***/ "./src/components/blocks/Tours/styles.scss":
/*!*************************************************!*\
  !*** ./src/components/blocks/Tours/styles.scss ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(/*! !../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/lib/loader.js!./styles.scss */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/components/blocks/Tours/styles.scss\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../../../../node_modules/style-loader/lib/addStyles.js */ \"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n//# sourceURL=webpack:///./src/components/blocks/Tours/styles.scss?");

/***/ })

}]);